package bp35a1

import (
	"bytes"
	"testing"
)

func TestFrameBytes(t *testing.T) {
	p, _ := NewProperty(0xE7, 0x04, []byte{0x01, 0x23, 0x45, 0x67})
	f := NewFrame(
		0x10,
		0x81,
		0x0001,
		0x028801,
		0x028802,
		0x72,
		0x01,
		[]*Property{p},
	)
	b := f.Bytes()
	expected := []byte{
		0x10,
		0x81,
		0x00, 0x01,
		0x02, 0x88, 0x01,
		0x02, 0x88, 0x02,
		0x72,
		0x01,
		0xE7, 0x04, 0x01, 0x23, 0x45, 0x67,
	}
	if !bytes.Equal(b, expected) {
		t.Errorf("Bytes: %v, expected: %v", b, expected)
	}
}
